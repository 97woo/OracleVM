# BTCFi Oracle VM - 팀 발표 자료 📊

## 목차
1. [프로젝트 소개](#1-프로젝트-소개)
2. [왜 만들었나?](#2-왜-만들었나)
3. [어떻게 작동하나?](#3-어떻게-작동하나)
4. [코드 구조 설명](#4-코드-구조-설명)
5. [실제 시연](#5-실제-시연)
6. [우리가 해결한 문제들](#6-우리가-해결한-문제들)
7. [배운 점과 성과](#7-배운-점과-성과)

---

## 1. 프로젝트 소개

### 🎯 한 문장 설명
**"비트코인에서 직접 실행되는 옵션 거래소를 만들었습니다"**

### 📱 일상 비유
- **옵션**: 미래에 특정 가격으로 살 수 있는 권리 (예: 3개월 후 아이폰을 100만원에 살 권리)
- **우리 시스템**: 이런 권리를 비트코인으로 자동으로 거래하고 정산하는 시스템

---

## 2. 왜 만들었나?

### 🤔 문제점
1. **기존 비트코인의 한계**
   - 단순 송금만 가능
   - 복잡한 금융 상품 불가능
   - "프로그래밍 불가능한 돈"

2. **기존 해결책의 문제**
   - 대부분 별도 블록체인 사용 (이더리움 등)
   - 비트코인을 옮겨야 함 (해킹 위험)
   - 진짜 비트코인이 아님

### 💡 우리의 해결책
**"비트코인 자체에서 모든 걸 해결하자!"**
- BitVMX라는 새로운 기술 활용
- 비트코인을 옮기지 않고 직접 사용

---

## 3. 어떻게 작동하나?

### 🏗️ 전체 시스템 구조 (레고 블록처럼)

```
[가격 수집 로봇들] → [가격 결정 심판] → [계산기] → [실행 엔진] → [비트코인]
   Oracle Nodes        Aggregator      Calculator    BitVMX       Bitcoin
```

### 각 부품 설명

#### 1️⃣ **Oracle Nodes (가격 수집 로봇들)**
- **역할**: 24시간 거래소 가격 감시
- **비유**: 시장 조사원 3명이 각각 다른 시장 가격 조사
- **코드 위치**: `crates/oracle-node/`
- **동작 방식**:
  ```
  Binance 로봇: "BTC 가격 70,000달러!"
  Coinbase 로봇: "BTC 가격 70,100달러!"
  Kraken 로봇: "BTC 가격 69,900달러!"
  ```

#### 2️⃣ **Aggregator (가격 결정 심판)**
- **역할**: 3개 가격 중 신뢰할 수 있는 가격 결정
- **비유**: 심사위원이 평균값 계산
- **코드 위치**: `crates/aggregator/`
- **동작 방식**:
  ```
  "3개 중 2개 이상이 비슷하면 → 평균값 70,000달러로 결정!"
  ```

#### 3️⃣ **Calculator (옵션 가격 계산기)**
- **역할**: 복잡한 금융 공식으로 옵션 가격 계산
- **비유**: 보험료 계산하는 계산기
- **코드 위치**: `calculation/`
- **동작 방식**:
  ```
  입력: 현재가 70,000달러, 행사가 75,000달러, 만기 30일
  출력: 옵션 가격 0.01 BTC
  ```

#### 4️⃣ **BitVMX (실행 증명 엔진)**
- **역할**: 옵션 정산을 계산하고 증명 생성
- **비유**: 공증인이 계약 이행 확인서 작성
- **코드 위치**: `bitvmx_protocol/`
- **동작 방식**:
  ```
  "만기일 가격이 80,000달러 → 구매자가 5,000달러 이익!"
  → 이걸 증명하는 '도장' 생성
  ```

#### 5️⃣ **Bitcoin (최종 기록 장부)**
- **역할**: 모든 거래와 정산 영구 기록
- **비유**: 법원 등기소
- **코드 위치**: `contracts/src/bitcoin_*`

---

## 4. 코드 구조 설명

### 📁 프로젝트 폴더 구조 (도서관처럼)

```
oracle-vm/ (전체 도서관)
│
├── 📚 crates/ (핵심 기능 책장)
│   ├── oracle-node/ (가격 수집 매뉴얼)
│   ├── aggregator/ (가격 결정 규칙북)
│   └── common/ (공통 사전)
│
├── 📊 calculation/ (금융 계산 책장)
│   ├── src/
│   │   ├── pricing.rs (Black-Scholes 공식)
│   │   ├── models.rs (데이터 구조)
│   │   └── main.rs (API 서버)
│   └── tests/ (계산 검증)
│
├── 📜 contracts/ (계약서 책장)
│   ├── src/
│   │   ├── bitcoin_option.rs (옵션 계약서 양식)
│   │   ├── bitcoin_transaction.rs (거래 생성)
│   │   └── simple_contract.rs (간단 버전)
│   └── tests/ (계약 테스트)
│
├── 🔧 bitvmx_protocol/ (BitVMX 기술 책장)
│   ├── BitVMX-CPU/ (가상 컴퓨터)
│   ├── option_settlement/ (정산 프로그램)
│   └── *.py (증명 생성 스크립트)
│
└── 🎭 orchestrator/ (지휘자 책장)
    └── src/ (전체 시스템 조율)
```

### 💻 주요 코드 파일 설명

#### 1. **가격 수집 코드** (`crates/oracle-node/src/binance.rs`)
```rust
// 쉬운 설명: "Binance에서 1분마다 가격 가져오기"
async fn fetch_price() {
    // 1. Binance API에 연결
    // 2. BTC/USDT 가격 요청
    // 3. 받은 가격을 Aggregator에 전송
}
```

#### 2. **옵션 가격 계산** (`calculation/src/pricing.rs`)
```rust
// 쉬운 설명: "복잡한 수학 공식으로 공정한 옵션 가격 계산"
fn calculate_option_price(
    현재가격: 70000,
    행사가격: 75000,
    남은날짜: 30,
    변동성: 0.8
) -> 옵션가격 {
    // Black-Scholes 공식 (노벨상 받은 공식!)
}
```

#### 3. **비트코인 스크립트** (`contracts/src/bitcoin_option.rs`)
```rust
// 쉬운 설명: "스마트한 금고 만들기"
fn create_option_contract() {
    // 조건: 만기일에 가격이 행사가보다 높으면
    //       → 구매자에게 차액 지급
    //       아니면 → 판매자가 보관
}
```

#### 4. **정산 프로그램** (`bitvmx_protocol/BitVMX-CPU/docker-riscv32/src/option_settlement.c`)
```c
// 쉬운 설명: "누가 얼마 받을지 계산"
if (현재가격 > 행사가격) {
    구매자_수익 = (현재가격 - 행사가격) * 수량;
} else {
    구매자_수익 = 0;  // 손해
}
```

---

## 5. 실제 시연

### 🎬 시연 시나리오

#### Step 1: 시스템 시작
```bash
# 전체 시스템 한 번에 실행
./test_full_system_integration.sh
```

#### Step 2: 실시간 가격 확인
```bash
# "지금 비트코인 가격이 얼마야?"
curl http://localhost:3000/api/market
```
**결과**: `{"last_price": 70000.0}`

#### Step 3: 옵션 가격 확인
```bash
# "행사가 75,000달러 콜옵션 가격은?"
curl http://localhost:3000/api/premium
```
**결과**: 각 만기별 옵션 가격 표시

#### Step 4: 옵션 구매 (시뮬레이션)
- 구매자: "75,000달러 콜옵션 구매"
- 시스템: "프리미엄 0.01 BTC 입니다"
- 거래 체결!

#### Step 5: 만기 시 자동 정산
- 만기일 가격: 80,000달러
- 자동 계산: 구매자 이익 5,000달러
- BitVMX가 증명 생성
- Bitcoin에 기록

---

## 6. 우리가 해결한 문제들

### 🔧 기술적 도전과 해결

#### 문제 1: "비트코인은 프로그래밍이 안 돼요"
- **해결**: BitVMX로 복잡한 계산을 비트코인 밖에서 하고 증명만 올림

#### 문제 2: "실시간 가격을 어떻게 가져와요?"
- **해결**: 3개 거래소에서 동시에 가져와서 2/3 합의

#### 문제 3: "해킹당하면 어떡해요?"
- **해결**: 모든 자금이 비트코인 스크립트로 보호됨

#### 문제 4: "시스템이 복잡해서 관리가 어려워요"
- **해결**: Orchestrator가 자동으로 모든 부품 관리

---

## 7. 배운 점과 성과

### 📈 프로젝트 성과

1. **기술적 성과**
   - 100% 실제 구현 (시뮬레이션 X)
   - 89개 자동화 테스트
   - 실시간 시스템 (30초 업데이트)

2. **혁신적 성과**
   - 세계 최초 Bitcoin L1 네이티브 옵션
   - L2 없이 순수 비트코인만 사용
   - 복잡한 금융 상품도 가능 증명

3. **코드 품질**
   - 모듈화된 깔끔한 구조
   - 누구나 이해할 수 있는 문서
   - 확장 가능한 설계

### 🎓 배운 점

1. **기술적 교훈**
   - Rust는 금융 시스템에 완벽
   - 비동기 프로그래밍의 중요성
   - 테스트 주도 개발의 가치

2. **협업 교훈**
   - 명확한 모듈 분리의 중요성
   - 문서화의 필요성
   - 지속적 통합의 편리함

---

## 마무리

### 🌟 핵심 메시지
**"불가능하다고 생각했던 것을 가능하게 만들었습니다"**

- 비트코인은 단순 화폐가 아닙니다
- 충분히 스마트할 수 있습니다
- 우리가 그것을 증명했습니다

### 🚀 다음 목표
1. 테스트넷 → 메인넷
2. 더 많은 금융 상품
3. 사용자 인터페이스
4. 커뮤니티 구축

---

## Q&A 준비

### 예상 질문들

**Q: 실제로 돈을 넣어도 안전한가요?**
A: 모든 자금은 비트코인 스크립트로 보호되며, 조건을 만족해야만 인출 가능합니다.

**Q: 왜 이더리움을 안 썼나요?**
A: 비트코인이 가장 안전하고 탈중앙화되어 있기 때문입니다.

**Q: 일반인도 사용할 수 있나요?**
A: 현재는 개발자용이지만, UI를 만들면 누구나 사용 가능합니다.

**Q: 수익 모델은 뭔가요?**
A: 거래 수수료와 유동성 제공 수익을 생각하고 있습니다.

---

**감사합니다! 질문 있으시면 편하게 해주세요 😊**